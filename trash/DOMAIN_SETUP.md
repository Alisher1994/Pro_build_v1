# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ d-promo.uz

## üìã –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–æ–º (DNS-–º–µ–Ω–µ–¥–∂–µ—Ä) –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏:

### A-–∑–∞–ø–∏—Å–∏ (IPv4):

1. **–û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–ø–∏—Å—å (–∫–æ—Ä–Ω–µ–≤–æ–π –¥–æ–º–µ–Ω):**
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** `@` (–∏–ª–∏ –ø—É—Å—Ç–æ–µ)
   - **–¢–∏–ø:** `A`
   - **–ó–Ω–∞—á–µ–Ω–∏–µ:** `45.92.173.37`
   - **TTL:** `14400` (–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

2. **WWW –ø–æ–¥–¥–æ–º–µ–Ω:**
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** `www`
   - **–¢–∏–ø:** `A`
   - **–ó–Ω–∞—á–µ–Ω–∏–µ:** `45.92.173.37`
   - **TTL:** `14400` (–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (–∏—Å–ø–æ–ª—å–∑—É—è CNAME):

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CNAME –¥–ª—è www:
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** `www`
- **–¢–∏–ø:** `CNAME`
- **–ó–Ω–∞—á–µ–Ω–∏–µ:** `d-promo.uz`
- **TTL:** `14400`

## ‚öôÔ∏è –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx —É–∂–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–æ–º–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   ```bash
   nginx -t
   ```

2. **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx:**
   ```bash
   systemctl reload nginx
   ```

## üîí –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (HTTPS) - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

–î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞—Å—Ç—Ä–æ–∏–º SSL —á–µ—Ä–µ–∑ Let's Encrypt:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot
apt-get update
apt-get install -y certbot python3-certbot-nginx

# –ü–æ–ª—É—á–∏—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –¥–æ–º–µ–Ω–∞
certbot --nginx -d d-promo.uz -d www.d-promo.uz

# Certbot –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –ü–æ–ª—É—á–∏—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
# - –û–±–Ω–æ–≤–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
# - –ù–∞—Å—Ç—Ä–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤–∞—à —Å–∞–π—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ:
- `https://d-promo.uz`
- `https://www.d-promo.uz`

## ‚úÖ –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç (–æ–±—ã—á–Ω–æ 5-30 –º–∏–Ω—É—Ç, –º–∞–∫—Å–∏–º—É–º 24 —á–∞—Å–∞ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è).

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–° —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   curl -I http://d-promo.uz
   curl -I http://www.d-promo.uz
   ```

2. **–° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞:**
   –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   - `http://d-promo.uz`
   - `http://www.d-promo.uz`

## üîß –¢–µ–∫—É—â–∏–µ DNS –∑–∞–ø–∏—Å–∏ (–∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å):

–ü–æ —Å–∫—Ä–∏–Ω—à–æ—Ç—É –≤–∏–¥–Ω–æ, —á—Ç–æ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å:
- `@` (A) ‚Üí `45.92.173.37` ‚úÖ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
- `api` (A) ‚Üí `45.92.173.37` ‚úÖ (–¥–ª—è API, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

**–í–ê–ñ–ù–û:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ:
- A-–∑–∞–ø–∏—Å—å `@` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `45.92.173.37` (–Ω–µ –Ω–∞ `185.196.212.52`)
- –ï—Å–ª–∏ –µ—Å—Ç—å CNAME –¥–ª—è `www`, –æ–Ω —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ `d-promo.uz` –∏–ª–∏ –Ω–∞ `45.92.173.37`

## üö® –ï—Å–ª–∏ –¥–æ–º–µ–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏:**
   ```bash
   # –ü—Ä–æ–≤–µ—Ä–∫–∞ A-–∑–∞–ø–∏—Å–∏
   dig d-promo.uz A
   dig www.d-promo.uz A
   
   # –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ nslookup
   nslookup d-promo.uz
   nslookup www.d-promo.uz
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx:**
   ```bash
   systemctl status nginx
   tail -f /var/log/nginx/football_school_error.log
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall:**
   ```bash
   # –†–∞–∑—Ä–µ—à–∏—Ç–µ HTTP –∏ HTTPS
   ufw allow 80/tcp
   ufw allow 443/tcp
   ```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- DNS –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–≥—É—Ç –∑–∞–Ω—è—Ç—å –¥–æ 24 —á–∞—Å–æ–≤ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- –û–±—ã—á–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —Ç–µ—á–µ–Ω–∏–µ 5-30 –º–∏–Ω—É—Ç
- –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS, –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ)
- –ù–∞—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (HTTPS) –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

