# ProBIM - Профессиональная система управления строительными проектами

## Описание

ProBIM - это комплексная система управления строительными проектами, включающая:

- **Управление тендерами** - создание лотов, приглашение субподрядчиков, оценка оферт.
- **Портал субподрядчика** - личный кабинет для подачи предложений и загрузки документов.
- **BIM Интеграция** - работа с IFC моделями (3D просмотр, связь элементов со сметой).
- **Управление проектами** - иерархическая структура (Объект > Блок > Смета > Разделы).
- **ГПР и Нормативы** - автоматизация длительности работ с помощью ИИ.
- **КПП и Face ID** - интеллектуальный контроль доступа и автоматический табель посещаемости.
- **Корпоративный Чат** - система мгновенного обмена сообщениями между сотрудниками.
- **Снабжение и Финансы** - контроль бюджета и поставок.

## Архитектура

### Backend
- **Node.js + Express** (TypeScript)
- **Prisma ORM**
- **База данных**: PostgreSQL (Railway Cloud)
- **Face ID Service**: Python (face_recognition + OpenCV)
- **AI Services**: Поддержка Ollama для генерации ГПР и нормативов.

### Frontend
- **Vanilla JavaScript** (Modern UI)
- **MS Office Ribbon** - интерфейс в стиле Fluent Design.
- **xeokit SDK** - профессиональный движок для 3D BIM моделей.
- **Highcharts** - динамическая бизнес-аналитика и статистика.

## Установка и запуск

### Самый простой способ (Windows)
Запустите файл **`start-all.bat`** в корне проекта.
Он автоматически:
1. Проверит и запустит Ollama (для ИИ).
2. Выполнит `npx prisma generate` для синхронизации базы.
3. Запустит Backend на порту `3001`.
4. Запустит Frontend на порту `8000`.

### Ручной запуск
1. **Backend**: `cd backend && npm run dev`
2. **Frontend**: `cd frontend && python -m http.server 8000`

## Структура проекта

```
ProBIM/
├── backend/           # API Сервер и логика (Port 3001)
│   ├── prisma/        # Схема БД и миграции
│   └── python_service/# Сервис распознавания лиц (Face ID)
├── frontend/          # Клиентская часть (Port 8000)
│   ├── index.html     # Кабинет заказчика (Главная)
│   ├── timesheet.html # Модуль КПП и Face ID
│   ├── timesheet-table.html # Табель посещаемости
│   └── subcontractor-portal.html # Портал субподрядчика
├── docs/              # Инструкции (выполнено и в разработке)
├── trash/             # Проекты-эталоны (справочные материалы)
├── start-all.bat      # Скрипт быстрого запуска
└── README.md          # Текущий файл
```

## Документация
Подробные инструкции по отдельным модулям находятся в папке `docs/`:

### Актуальные модули (в разработке):
- `FACE_ID_INTEGRATION.md` — План внедрения Face ID и история анализа.
- `GPR_IMPLEMENTATION_PLAN.md` — План развития модуля ГПР.

### Реализованный функционал (в папке `docs/выполнено/`):
- `IFC_INTEGRATION.md` — Работа с 3D моделями.
- `WORK_TYPES_INSTRUCTIONS_MODULE.md` — Справочники и инструкции.
- `NORMS_SETUP.md` — ИИ расчет нормативов.
- `IMPORT_GUIDE.md` — Импорт смет.
- `OLLAMA_SETUP.md` — Настройка локального ИИ.

## Автор и Лицензия
Разработано специально для управления строительным циклом. Все права защищены.
